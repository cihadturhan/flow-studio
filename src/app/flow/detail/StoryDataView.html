<alert></alert>
<alert-error></alert-error>
<div class="modal-header">
    <h4 class="modal-title"><span data-translate>{{$state.current.data.pageTitle}}</span></h4>
</div>
<form class="story-data" name="story_data">
    <div class="form-group col-lg-12">
        <label class="col-lg-2 col-form-label" data-translate>flow.story.data.name.title</label>
        <div class="col-lg-4" ng-class="{'has-error' : story_data.name.$invalid}">
            <input type="text" class="form-control" ng-model="vm.model.extras.displayName" name="displayName" ng-required="true">
        </div>
    </div>
    <div class="form-group col-lg-12">
        <label class="col-lg-2 col-form-label" data-translate>flow.story.data.type.title</label>
        <div class="col-lg-4" ng-class="{'has-error' : story_data.type.$invalid}">
            <select class="form-control" ng-model="vm.model.type" name="type"
                    ng-options="type.value as type.text|translate for type in vm.dataTypes" ng-required="true">
            </select>
        </div>
    </div>
    <div class="form-group col-lg-12">
        <label class="col-lg-2 col-form-label" data-translate>flow.story.data.value.title</label>
        <div class="col-lg-4" ng-switch="vm.model.type">
            <input ng-switch-when="Integer" type="number" class="form-control"
                   step="any"
                   ng-model="vm.model.value"
                   name="value">
            <input ng-switch-when="Float" type="number" class="form-control"
                   step="any"
                   ng-model="vm.model.value"
                   name="value">
            <input ng-switch-when="Boolean" type="text" class="form-control"
                   ng-model="vm.model.value"
                   name="value">
            <input ng-switch-when="String" type="text" class="form-control"
                   ng-model="vm.model.value"
                   name="value">
            <input ng-switch-default type="text" class="form-control"
                   ng-model="vm.model.value"
                   name="value">
        </div>
    </div>
    <div class="form-group col-lg-12 mt20">
        <button class="btn btn-default pull-right" ng-click="vm.save(story_data.$valid)" ng-if="vm.editedDataIndex < 0">
            <span data-translate>global.buttons.save</span>
        </button>
        <button class="btn btn-default pull-right" ng-click="vm.update(story_data.$valid)" ng-if="vm.editedDataIndex > -1">
            <span data-translate>global.buttons.update</span>
        </button>
        <button class="btn btn-default pull-right mr10" ng-click="vm.cancel()">
            <span data-translate>global.buttons.cancel</span>
        </button>
    </div>
</form>
